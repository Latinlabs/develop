var e=Object.defineProperty,t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,i=(t,n,a)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a;export function __vite_legacy_guard(){import("data:text/javascript,")}import{c as s,r as o,w as r,u as l,a as d,b as u,d as c,e as p,f as y,g as m,h,i as w,N as b,E as f,W as g,C as x,j as v,k as T,l as k,J as M,m as I,n as G,o as S,p as N,q as C,s as A,t as P,v as B,x as $,y as O,z as j,A as L,D as _,F as E,B as F,G as D,H as X,I as R,K as W,L as q,M as U,O as z,P as V,Q as H,R as Q,S as J,U as K,T as Y,V as Z,X as ee,Y as te,Z as ne,_ as ae,$ as ie,a0 as se,a1 as oe,a2 as re,a3 as le,a4 as de,a5 as ue,a6 as ce,a7 as pe}from"./vendor.63071c66.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const ye=s();var me,he,we,be;(he=me||(me={})).XS="XS",he.SM="SM",he.MD="MD",he.LG="LG",he.XL="XL",he.XXL="XXL",(be=we||(we={}))[be.XS=480]="XS",be[be.SM=576]="SM",be[be.MD=768]="MD",be[be.LG=992]="LG",be[be.XL=1200]="XL",be[be.XXL=1600]="XXL";const fe=new Map;let ge,xe,ve;function Te(e){const t=o(me.XL),n=o(window.innerWidth);function a(){const e=document.body.clientWidth,a=fe.get(me.XS),i=fe.get(me.SM),s=fe.get(me.MD),o=fe.get(me.LG),r=fe.get(me.XL);t.value=e<a?me.XS:e<i?me.SM:e<s?me.MD:e<o?me.LG:e<r?me.XL:me.XXL,n.value=e}function i(){null==e||e({screen:ge,width:xe,realWidth:ve,screenEnum:we,screenMap:fe,sizeEnum:me})}return function({el:e=window,name:t,listener:n,options:a,autoRemove:i=!0,isDebounce:s=!0,wait:c=80}){let p=()=>{};const y=o(!1);if(e){const m=o(e),h=s?d(n,c):u(n,c),w=c?h:n,b=e=>{y.value=!0,e.removeEventListener(t,w,a)},f=e=>e.addEventListener(t,w,a),g=r(m,((e,t,n)=>{e&&(!l(y)&&f(e),n((()=>{i&&b(e)})))}),{immediate:!0});p=()=>{b(m.value),g()}}}({el:window,name:"resize",listener:()=>{a(),i()}}),a(),ge=c((()=>l(t))),xe=c((()=>fe.get(l(t)))),ve=c((()=>l(n))),i(),{screenRef:ge,screenEnum:we,widthRef:xe,realWidthRef:ve}}fe.set(me.XS,480),fe.set(me.SM,576),fe.set(me.MD,768),fe.set(me.LG,992),fe.set(me.XL,1200),fe.set(me.XXL,1600);var ke=((e,s)=>{for(var o in s||(s={}))n.call(s,o)&&i(e,o,s[o]);if(t)for(var o of t(s))a.call(s,o)&&i(e,o,s[o]);return e})({},{roundTime:300,web:{topics:["0x88b7d29fc1e47c6850bc8ec1b11aa721e95300e4453154622db7a4c2e7c3518b"],chainId:97,rpc_url:"https://data-seed-prebsc-1-s1.binance.org:8545/",page:"https://testnet.bscscan.com/"},connector:{address:"0x26cb8A5Ff63c58Cd159F66811C6c9419B6887b01",abi:[{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"previousAdmin",type:"address"},{indexed:!1,internalType:"address",name:"newAdmin",type:"address"}],name:"AdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"beacon",type:"address"}],name:"BeaconUpgraded",type:"event"},{inputs:[{internalType:"contract IGmgn",name:"_gmgn",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[{internalType:"string",name:"emoji",type:"string"}],name:"punch",outputs:[],stateMutability:"nonpayable",type:"function"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"player",type:"address"},{indexed:!1,internalType:"uint256",name:"roundId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"hour",type:"uint256"},{indexed:!1,internalType:"uint256",name:"minute",type:"uint256"},{indexed:!1,internalType:"uint256",name:"second",type:"uint256"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"},{indexed:!1,internalType:"string",name:"emoji",type:"string"}],name:"Punched",type:"event"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"implementation",type:"address"}],name:"Upgraded",type:"event"},{inputs:[{internalType:"address",name:"newImplementation",type:"address"}],name:"upgradeTo",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newImplementation",type:"address"},{internalType:"bytes",name:"data",type:"bytes"}],name:"upgradeToAndCall",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"withdraw",outputs:[],stateMutability:"payable",type:"function"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"target",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Withdraw",type:"event"},{inputs:[],name:"decimals",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"gmgn",outputs:[{internalType:"contract IGmgn",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"initRoundBlock",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"lastRoundId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_roundId",type:"uint256"}],name:"punchTime",outputs:[{components:[{internalType:"uint256",name:"hour",type:"uint256"},{internalType:"uint256",name:"minute",type:"uint256"},{internalType:"uint256",name:"second",type:"uint256"},{internalType:"enum GmgnMaker.PunchType",name:"punchType",type:"uint8"},{internalType:"string",name:"emoji",type:"string"},{internalType:"uint256",name:"nowBlock",type:"uint256"}],internalType:"struct GmgnMaker.PunchRecord",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_user",type:"address"}],name:"rewardAmount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"roundBlockNumber",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"roundId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"roundInfos",outputs:[{internalType:"uint256",name:"roundId",type:"uint256"},{internalType:"enum GmgnMaker.PunchType",name:"winnerType",type:"uint8"},{internalType:"uint256",name:"totalPoint",type:"uint256"},{internalType:"uint256",name:"totalReward",type:"uint256"},{internalType:"uint256",name:"accGmgnPerShare",type:"uint256"},{internalType:"uint256",name:"gmPoint",type:"uint256"},{internalType:"uint256",name:"gnPoint",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"userInfos",outputs:[{internalType:"uint256",name:"settledCount",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"userPunchRecord",outputs:[{components:[{internalType:"uint256[]",name:"historyRoundIds",type:"uint256[]"},{internalType:"uint256",name:"settledCount",type:"uint256"}],internalType:"struct GmgnMaker.UserInfo",name:"userInfo",type:"tuple"}],stateMutability:"view",type:"function"}],tokenAddress:"0x586a7980BBD549a4BA8F25bd483cDAa5C1ad552D",tokenAbi:[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"delegator",type:"address"},{indexed:!0,internalType:"address",name:"fromDelegate",type:"address"},{indexed:!0,internalType:"address",name:"toDelegate",type:"address"}],name:"DelegateChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"delegate",type:"address"},{indexed:!1,internalType:"uint256",name:"previousBalance",type:"uint256"},{indexed:!1,internalType:"uint256",name:"newBalance",type:"uint256"}],name:"DelegateVotesChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[],name:"DOMAIN_SEPARATOR",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint32",name:"pos",type:"uint32"}],name:"checkpoints",outputs:[{components:[{internalType:"uint32",name:"fromBlock",type:"uint32"},{internalType:"uint224",name:"votes",type:"uint224"}],internalType:"struct ERC20Votes.Checkpoint",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"subtractedValue",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"delegatee",type:"address"}],name:"delegate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"delegatee",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"delegateBySig",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"delegates",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"blockNumber",type:"uint256"}],name:"getPastTotalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"blockNumber",type:"uint256"}],name:"getPastVotes",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"getVotes",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"nonces",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"numCheckpoints",outputs:[{internalType:"uint32",name:"",type:"uint32"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"permit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"}]},walletConnect:{api_key:"4950a481285046e28d71fa9676d46554"}});function Me(e,t=6){return!e||e.length<15?"":e.substr(0,t)+"..."+e.substr(e.length-4)}function Ie(e,t,n,a=3){const i=ke.roundTime/3;return 1e3*(ke.roundTime-(t-e-(n-1)*i)*a)}p.extend(y),p.extend(m),p.updateLocale("en",{relativeTime:{future:"in %s",past:"%s ago",s:"1 min",ss:"1 min",m:"1 min",mm:"%d mins",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"}});var Ge={install:async(e,t)=>{e.config.globalProperties.$strSub=Me,e.config.globalProperties.$round=Ie}};const Se=h("userStore",{state:()=>({userInfo:{},address:"",chainId:0,provider:{},contract:{},isMobile:!1,initRoundBlock:0,blockNumber:0,rewardAmount:"0",roundId:0,GMPoint:0,GNPoint:0,sumPoint:"0",OtherPoint:0,countDown:0}),getters:{getEchartsData:e=>[e.GMPoint,e.GNPoint,e.OtherPoint]},actions:{async setAddress(e){this.address=e||""},setChainId(e){this.chainId=e||0},delAddress(){this.address=""},delChainId(){this.chainId=0},async init(){const e=await window.$contract,t=await window.$provider,n=await window.$token;if(this.address){const t=await e.rewardAmount(this.address);this.rewardAmount=w(t.toString(),18)}try{const a=await e.initRoundBlock();this.initRoundBlock=a.toNumber(),this.blockNumber=await t.getBlockNumber();const i=await e.roundId();this.roundId=i.toNumber();const s=await n.totalSupply();this.sumPoint=w(s.toString(),18);const o=await t.getBlockNumber();this.countDown=Ie(this.initRoundBlock,o,this.roundId);const r=await e.roundInfos(this.roundId);this.GMPoint=r.gmPoint.toNumber(),this.GNPoint=r.gnPoint.toNumber(),this.OtherPoint=r.totalPoint.sub(r.gmPoint).sub(r.gnPoint).toNumber()}catch(a){}},logout(){this.address="",this.chainId=0,this.provider={},this.contract={},this.rewardAmount="0",localStorage.setItem("walletType","0"),this.isMobile?b({type:"success",message:"Exit Success"}):f.success({title:"Exit Success",offset:100,duration:1500})},setMobile(){Te((({screenMap:e,sizeEnum:t,width:n})=>{const a=e.get(t.LG);a&&(this.isMobile=n.value-1<a)}))}}});function Ne(){return Se(ye)}async function Ce(e,t,n){return new x(e,t,n)}const Ae=h({id:"walletStore",state:()=>({connector:{},connected:!1}),getters:{},actions:{setConnector(e){this.connector=e},async subscribeToEvents(){this.connector&&(this.connector.on("accountsChanged",(e=>{console.log("accountsChanged");const t=Ne(),n=new g(this.connector);n.ready.then((async e=>{if(e.chainId!==ke.web.chainId)return void(t.isMobile?b({type:"danger",message:`Unsupported chain id: ${e.chainId}. Supported chain id are:56.`}):f.error({title:`Unsupported chain id: ${e.chainId}. Supported chain id are:56.`,offset:100,duration:1500,customClass:"notify"}));window.$provider=n,await t.setAddress(this.connector.accounts[0]),await t.setChainId(e.chainId);const a=n.getSigner();window.$contract=await Ce(ke.connector.address,ke.connector.abi,a),window.$token=await Ce(ke.connector.tokenAddress,ke.connector.tokenAbi,a),await t.init(),localStorage.setItem("walletType","2")}))})),this.connector.on("chainChanged",(e=>{console.log("chainChanged")})),this.connector.on("connect",(()=>{console.log('connector.on("connect")');const e=Ne(),t=new g(this.connector);t.ready.then((async n=>{if(n.chainId!==ke.web.chainId)return void(e.isMobile?b({type:"danger",message:`Unsupported chain id: ${n.chainId}. Supported chain id are:56.`}):f.error({title:`Unsupported chain id: ${n.chainId}. Supported chain id are:56.`,offset:100,duration:1500,customClass:"notify"}));window.$provider=t,await e.setAddress(this.connector.accounts[0]),await e.setChainId(n.chainId);const a=t.getSigner();window.$contract=await Ce(ke.connector.address,ke.connector.abi,a),window.$token=await Ce(ke.connector.tokenAddress,ke.connector.tokenAbi,a),await e.init(),localStorage.setItem("walletType","2")}))})),this.connector.on("disconnect",((e,t)=>{console.log('connector.on("disconnect")'),this.connector={},this.connected=!1;Ne().logout()})))}}});var Pe=(e,t)=>{for(const[n,a]of t)e[n]=a;return e};const Be=e=>(j("data-v-4977f3e8"),e=e(),L(),e),$e={class:"max-w-screen-xl mx-auto h-20 flex items-center justify-between px-2 md:px-10"},Oe=Be((()=>B("div",{class:"logo"},[B("a",{href:"https://gmgn.org"},[B("img",{class:"w-24 sm:w-32",src:"/develop/assets/logo.09e823ec.png",alt:"GMGN"})])],-1))),je={class:"flex items-center"},Le=Be((()=>B("a",{href:"https://twitter.com/gmgn2048",target:"_blank",class:"sm:inline-block text-base text-gray-300 hover:text-white pr-4 sm:pr-10"}," Twitter ",-1))),_e=["href"],Ee={key:0},Fe=D("Exit"),De=[D(" Connect "),Be((()=>B("span",{class:"hidden sm:inline-block"},"Wallet",-1)))],Xe={class:"text-center"},Re=["src"],We=Be((()=>B("p",null,"MetaMask",-1))),qe=Be((()=>B("p",{class:"text-sm text-gray-700 font-light mt-2"},"Connect to your MetaMask Wallet",-1))),Ue=["src"],ze=Be((()=>B("p",null,"WalletConnect",-1))),Ve=Be((()=>B("p",{class:"text-sm text-gray-700 font-light mt-2"},"Scan with WalletConnect to connect",-1)));var He=Pe({setup(e,{expose:t}){const n=window.localStorage,a=_.Component,i=v({dialog:!1,exit:!1}),s=Ne(),{proxy:o}=R(),r=[{name:"Exit",color:"#ee0a24",active:"exit"}],d=c((()=>Ne().address));function u(e){const t=Ne();if("exit"===e.active)"2"===n.getItem("walletType")&&window.$provider.provider.disconnect(),n.setItem("walletType","0"),t.logout()}function p(){window.ethereum?i.dialog=!0:m()}async function y(){await window.ethereum.request({method:"eth_requestAccounts"}).then((async()=>{const e=await new g(window.ethereum);await e.ready.then((async t=>{if(t.chainId!==ke.web.chainId)return void(s.isMobile?b({type:"danger",message:`Unsupported chain id: ${t.chainId}. Supported chain id are:56.`}):f.error({title:`Unsupported chain id: ${t.chainId}. Supported chain id are:56.`,offset:100,duration:11500,customClass:"notify"}));i.dialog=!1,window.$provider=e;const a=e.getSigner();await s.setAddress(await a.getAddress()),window.$contract=await h(ke.connector.address,ke.connector.abi,a),window.$token=await h(ke.connector.tokenAddress,ke.connector.tokenAbi,a),s.setChainId(t.chainId),n.setItem("walletType","1"),await s.init()}))}))}async function m(){const e=await new T({chainId:ke.web.chainId,rpc:{[ke.web.chainId]:ke.web.rpc_url},qrcodeModal:k}),t=Ae(ye);t.setConnector(e),await t.subscribeToEvents(),e.connected||await e.enable(),i.dialog=!1,n.setItem("walletType","2")}async function h(e,t,n){return new x(e,t,n)}return t({connect:p,ethersJs:y,walletConnect:m,defaultConnect:async function(){let e=new M(ke.web.rpc_url);e.ready.then((async t=>{window.$provider=e,window.$contract=await new x(ke.connector.address,ke.connector.abi,e),window.$token=await h(ke.connector.tokenAddress,ke.connector.tokenAbi,e),n.setItem("walletType","0"),await s.init()}))}}),(e,t)=>{const n=I,s=G,c=S,h=N,w=C("action-sheet");return A(),P("div",null,[B("header",$e,[Oe,B("div",je,[Le,B("a",{href:`${l(ke).web.page}address/${l(ke).connector.address}`,target:"_blank",class:"sm:inline-block text-base text-gray-300 hover:text-white pr-4 sm:pr-10"}," Contract ",8,_e),l(d)?(A(),P("div",Ee,[$(h,{trigger:"click"},{dropdown:O((()=>[$(c,null,{default:O((()=>[(A(),P(E,null,F(r,(e=>$(s,{onClick:t=>u(e)},{default:O((()=>[Fe])),_:2},1032,["onClick"]))),64))])),_:1})])),default:O((()=>[$(n,{class:"py-1 sm:py-2 px-3 rounded-lg font-light",size:"mini",type:"primary"},{default:O((()=>[D(X(l(o).$strSub(l(d))),1)])),_:1})])),_:1})])):(A(),P("button",{key:1,class:"bg-blue-700 font-light py-1 sm:py-2 px-3 bg-btn rounded-lg cursor-pointer",onClick:p},De))])]),$(l(a),{class:"text-black",show:l(i).dialog,"onUpdate:show":t[0]||(t[0]=e=>l(i).dialog=e),width:"400",closeOnClickOverlay:!0,showConfirmButton:!1},{default:O((()=>[B("ul",Xe,[B("li",{class:"py-10 cursor-pointer border-b border-bg border-opacity-20",onClick:y},[B("img",{class:"w-14 mx-auto mb-4",src:l("/develop/assets/metamask.86c31dd9.svg"),alt:""},null,8,Re),We,qe]),B("li",{class:"py-10 cursor-pointer",onClick:m},[B("img",{class:"w-14 mx-auto mb-4",src:l("/develop/assets/WalletConnect.a23d2c74.svg"),alt:""},null,8,Ue),ze,Ve])])])),_:1},8,["show"]),$(w,{show:l(i).exit,"onUpdate:show":t[1]||(t[1]=e=>l(i).exit=e),actions:r,"cancel-text":"Cancel","close-on-click-action":"",onSelect:u},null,8,["show"])])}}},[["__scopeId","data-v-4977f3e8"]]);W([q,U,z,V,H,Q]);let Qe=document.documentElement.clientWidth<420;var Je=Pe({setup(e,{expose:t}){const n=Ne(),a=o({tooltip:{trigger:"item"},title:{text:"Circulating Supply",left:"center",top:"55%",textStyle:{color:"#BBB",fontSize:14,align:"center",fontWeight:"300",fontFamily:"'Jost', sans-serif"}},graphic:{type:"text",left:"center",top:"45%",style:{text:"0.0",textAlign:"center",fill:"#fff",fontSize:Qe?22:26,fontWeight:400}},legend:{bottom:"0%",left:"center",textStyle:{color:"#BBB"},itemStyle:{borderWidth:.1,borderColor:"#fff"},formatter:function(e){let t=e;return-1!==e.indexOf("(")&&(t=e.slice(0,e.indexOf("("))),Qe?t:e}},series:[{name:"",type:"pie",radius:["50%","80%"],avoidLabelOverlap:!1,itemStyle:{borderRadius:5,borderColor:"#191934",borderWidth:3},data:[{value:n.GMPoint,name:"GM(6:00:00-09:59:59)",itemStyle:{color:"#FDDA5E"}},{value:n.GNPoint,name:"GN(22:00:00-01:59:59)",itemStyle:{color:"#28283B"}},{value:n.OtherPoint,name:"Other",itemStyle:{color:"#F0F0F0"}}],label:{show:!1,position:"center"},labelLine:{show:!1},emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0)"}}}]}),i=o();let s;return t({updateEcharts:async function(){clearTimeout(s),s=setInterval((async()=>{await n.init(),setTimeout((()=>{i.value.setOption({graphic:{style:{text:(.92*n.sumPoint).toFixed(2)}},series:[{data:[{value:n.GMPoint,name:"GM(6:00:00-09:59:59)",itemStyle:{color:"#FDDA5E"}},{value:n.GNPoint,name:"GN(22:00:00-01:59:59)",itemStyle:{color:"#28283B"}},{value:n.OtherPoint,name:"Other",itemStyle:{color:"#F0F0F0"}}]}]})}),300)}),3e3)}}),(e,t)=>(A(),J(l(K),{ref:(e,t)=>{t.echarts=e,i.value=e},class:"chart",option:a.value,autoresize:!0},null,8,["option"]))}},[["__scopeId","data-v-03b889b8"]]);const Ke={class:"mt-10 mx-auto px-5 sm:px-0"},Ye=B("h1",{class:"text-2xl my-5 font-light"},"FAQ",-1),Ze={class:"p-5 sm:p-10 leading-6 sm:leading-7 text-left bg-white bg-opacity-20 text-base sm:text-xl font-light sm:font-extralight"},et=Y('<p class="mb-2 font-medium sm:text-2xl">What is GMGN?</p><p>GMGN is a decentralised cryptocurrency based on the GM/GN meme.</p><p class="mt-6 mb-2 font-medium sm:text-2xl">What do you mean by &quot;decentralised&quot;?</p><p>GMGN is not run by any individual company or person. Technically speaking, it operates according to rules agreed by consensus, rather than decided upon by some founding or owning entity.</p><p class="mt-6 mb-2 font-medium sm:text-2xl">What do you mean by &quot;cryptocurrency&quot;?</p><p>A cryptocurrency is a digital currency that is secured by cryptography, in contrast to conventional (fiat) currencies where they are secured by a government or governments.</p><p class="mt-6 mb-2 font-medium sm:text-2xl">Okay, but What is &quot;GM/GN” meme?</p><p>Although some people think it&#39;s silly and they take it too seriously, we need a simple way to say hello and we want to convey a consensus: To make each day count.</p><p class="mt-6 mb-2 font-medium sm:text-2xl">So How to get GMGN coins?</p>',9),tt={class:"list-decimal pl-8"},nt=D("You will need a MetaMask wallet or other major crypto wallet and a little BNB for the gas payments.If it is a newly created wallet, click and "),at=D("."),it=Y('<li class="mt-2">For 12 hours per round, you can participate and get a virtual time randomly generated by the contract, e.g. 07:35:46/19:08:36. </li><li class="mt-2">The protocol defines the GM time zone as 6:00:00 -- 09:59:59 and the GN as 22:00:00 -- 01:59:59. If you get a time of 00:51:28, then you belong to the GN group.</li><li class="mt-2">The initial token issuance is 43,200 per round, and the issuance is reduced by 3,600 every 360 rounds until the issuance is constant at 3,600 per round, the decreasing model is: 43200→39600→36000→... →7200→3600→3600...</li><li class="mt-2">After the countdown is over, if none of the participants belong to the GM or GN section, or if the number of GMs and GNs is the same, all participants share the issued tokens equally.</li><li class="mt-2">Otherwise, the group with the higher number of GMs or GNs shares the issued tokens equally.</li><li class="mt-2">For example, suppose the current round issue is 28,800 and there are 1,200 participants, of which 125 people&#39;s time belongs to the GM and 144 people&#39;s time belongs to the GN, then the winners of this round are the GNs and they each receive 28,800/144 = 200 tokens.</li>',6),st={class:"mt-2"},ot=D("Earned tokens can be withdrawn to your wallet at any time.If you don't see GMGN tokens in your wallet, please click and copy "),rt=["href"],lt=D(" and import tokens in MetaMask."),dt=B("li",{class:"mt-2"},"Note! GMGN is new, unaudited, and not guaranteed to work perfectly. Before participate, do your own research: ask questions, check out the code, understand the risks and good luck!",-1),ut=B("div",{class:"mt-8 sm:mt-12 border border-white border-opacity-50 rounded py-3 px-4 sm:py-6 sm:px-8"},[B("p",{class:"mb-2 font-medium sm:text-2xl"},"Great, what's the next?"),B("p",null,"We are considering introducing the rule of NFT, for example, if you get the time 06:12:59 for the first time through GM/GN, then you will have this NFT, next time if someone GM/GN to the same time, his GM/GN information will be cast into your NFT, eventually you may have a time NFT with more than 1000 emoji, isn't it cool? Estimated release time 2022 Q1.WAGMI!")],-1),ct={setup(e){var t;return(e,n)=>(A(),P("div",Ke,[Ye,B("div",Ze,[et,B("ul",tt,[B("li",null,[nt,B("span",{class:"cursor-pointer underline font-light",onClick:n[0]||(n[0]=e=>async function(e){if("web3"===e&&(t="undefined"!=typeof ethereum?new g(ethereum):"undefined"!=typeof web3?new g(web3.givenProvider):new g(ethereum)),void 0!==t){let e,n=0;if(n=await t.getNetwork(),"56"==n.chainId)return void alert("BSC Network has already been added to Metamask.");e=[{chainId:"0x38",chainName:"Binance Smart Chain Mainnet",nativeCurrency:{name:"BNB",symbol:"BNB",decimals:18},rpcUrls:["https://bsc-dataseed1.binance.org/"],blockExplorerUrls:["https://bscscan.com/"]}],window.ethereum.request({method:"wallet_addEthereumChain",params:e}).then((()=>console.log("Success"))).catch((e=>console.log("Error",e.message)))}else alert("Unable to locate a compatible web3 browser!")}("web3"))},"Add BSC Network"),at]),it,B("li",st,[ot,B("a",{class:"cursor-pointer underline font-light",href:`${l(ke).web.page}address/${l(ke).connector.tokenAddress}`,target:"_blank"},"Token Contract",8,rt),lt]),dt]),ut])]))}},pt={},yt={class:"max-w-screen-md mt-10 mx-auto px-5 sm:px-0"},mt=[B("div",{class:"text-left border-solid border-t border-white border-opacity-20"},[B("div",{class:"flex justify-between items-center py-5 font-light text-footer text-xs sm:text-base"},[B("div",null,"© 2021 GMGN.ORG"),B("div",null,"Developed with love by Latin Labs")])],-1)];var ht=Pe(pt,[["render",function(e,t){return A(),P("footer",yt,mt)}]]);const wt={class:"mt-10 mx-auto px-5 sm:px-0"},bt={class:"flex justify-between items-end border-b pb-3 border-opacity-30"},ft={class:"flex"},gt=["href"],xt={key:0,class:"mt-5"},vt={class:"h-14 my-5 pb-5 text-xl font-light flex justify-between items-center border-solid border-b border-white border-opacity-20"},Tt={class:"w-3/5 text-left flex my-emoji"},kt={class:"bg-white w-12 h-12 bg-opacity-20 mr-3 rounded overflow-hidden relative"},Mt=["innerHTML"],It={class:"truncate w-2/3"},Gt=["href"],St={class:"text-sm text-gray-400"},Nt={class:"flex-1 text-right flex items-center justify-end"},Ct={class:"text-sm mr-3 text-gray-400"},At={class:"text-center text-xs sm:text-base font-medium"},Pt={key:1,class:"py-10"},Bt={key:0},$t={key:1,class:"text-gray-400 font-light"},Ot={setup(e,{expose:t}){const n=Z(),a=Ne(),i=v({list:[],listType:"latest",page:1,loading:!0}),{proxy:s}=R();let o,r,d={};async function u(){i.listType="latest",i.loading=!0,i.list=[],await f(),clearTimeout(d),d=setInterval((()=>{f()}),1e4)}async function c(){a.address&&(i.listType="history",i.loading=!0,clearTimeout(d),i.list=[],await async function(){if(i.listType="history",window.$contract){r=await new ae(ke.connector.abi);const e=[];await window.$contract.functions.userPunchRecord().then((async t=>{const s=t.userInfo.historyRoundIds;if(s.length>0){let t=s.length;for(let i=t-1;i>t-10;i--)if(s[i]){let t={},o={};await window.$contract.functions.roundInfos(s[i].toNumber()).then((e=>{o={winnerType:e.winnerType,accGmgnPerShare:w(e.accGmgnPerShare.toString(),18)}})),await window.$contract.functions.punchTime(s[i].toNumber()).then((async e=>{let o="😀";if(e[0].emoji){const t=await n.getEmojiBySearchQuery(e[0].emoji);t.length&&(o=t[0].unicode)}t={address:a.address,blockNumber:e[0].nowBlock.toNumber(),hour:e[0].hour.toNumber(),minute:e[0].minute.toNumber(),second:e[0].second.toNumber(),roundId:s[i].toNumber(),punchType:e[0].punchType,emoji:o}})),e.push(Object.assign(o,t))}}i.loading=!1})),i.list=e}}())}function y(e){let t=[];return t=-1!==[6,7,8,9].indexOf(e)?["bg-gm","text-bg"]:-1!==[22,23,0,1].indexOf(e)?["bg-gn"]:["bg-white","bg-opacity-20"],t}function m(e){return e<10?`0${e}`:e}function h(e){if("history"===i.listType)return 0==e.winnerType||e.punchType===e.winnerType?"/ Received tokens: "+parseFloat(e.accGmgnPerShare).toFixed(5)/1:"/ Received tokens: 0"}function b(e){return function(e,t){return p().subtract(3*(e-t),"second").fromNow()}(a.blockNumber,e)}async function f(){if(window.$provider){o=window.$provider;const e=await o.getBlockNumber();ne.create().get(`https://api.covalenthq.com/v1/${ke.web.chainId}/events/topics/0x88b7d29fc1e47c6850bc8ec1b11aa721e95300e4453154622db7a4c2e7c3518b/`,{params:{key:"ckey_593c43462d3c434d83705f10058","starting-block":a.initRoundBlock,"ending-block":e}}).then((async e=>{i.list=await async function(e){if("latest"===i.listType){r=await new ae(ke.connector.abi);let t=[];if(e.length>0){let a=e.length;for(let i=a-1;i>a-11;i--)if(e[i]){const a=e[i],s={data:a.raw_log_data,topics:a.raw_log_topics,transactionHash:a.tx_hash,transactionIndex:a.tx_offset},o=await r.parseLog(s);let l="😀";if(o.args.emoji){const e=await n.getEmojiBySearchQuery(o.args.emoji);e.length&&(l=e[0].unicode)}const d={address:o.args[0],blockNumber:a.block_height,hour:o.args.hour.toNumber(),minute:o.args.minute.toNumber(),second:o.args.second.toNumber(),roundId:o.args.roundId.toNumber(),emoji:l};t.push(d)}return t}return!1}}(e.data.data.items),i.loading=!1}))}}return t({latest:u}),(e,t)=>(A(),P("div",wt,[B("div",bt,[B("div",ft,[B("p",{class:ee(["text-xl sm:text-2xl font-normal text-left cursor-pointer",["latest"===l(i).listType?"text-white":"text-gray-400"]]),onClick:u},"Latest",2),B("p",{class:ee(["text-xl sm:text-2xl font-normal text-left px-5 cursor-pointer",["history"===l(i).listType?"text-white":"text-gray-500"]]),onClick:c},"History",2)]),B("a",{class:"font-normal text-btn",href:`${l(ke).web.page}address/${l(ke).connector.address}`,target:"_blank"},"View More",8,gt)]),l(i).list&&l(i).list.length>0?(A(),P("ul",xt,[(A(!0),P(E,null,F(l(i).list,(e=>(A(),P("li",{key:e},[B("div",vt,[B("div",Tt,[B("div",kt,[B("div",{class:"text-center text-3xl absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",innerHTML:e.emoji},null,8,Mt)]),B("div",It,[B("a",{class:"text-btn text-base sm:text-xl",href:`${l(ke).web.page}address/${e.address}`,target:"_blank"},X(l(s).$strSub(e.address,l(a).isMobile?6:18)),9,Gt),B("div",St,X(b(e.blockNumber))+" "+X(h(e)),1)])]),B("div",Nt,[B("span",Ct,"#"+X(e.roundId),1),B("span",At,[B("span",{class:ee(["w-6 sm:w-8 py-1 inline-block",y(e.hour)])},X(m(e.hour)),3),B("span",{class:ee(["w-6 sm:w-8 py-1 inline-block mx-1",y(e.hour)])},X(m(e.minute)),3),B("span",{class:ee(["w-6 sm:w-8 py-1 inline-block",y(e.hour)])},X(m(e.second)),3)])])])])))),128))])):(A(),P("div",Pt,[l(i).loading?(A(),P("div",Bt,[$(l(te))])):(A(),P("div",$t," No Data "))]))]))}};const jt={class:"max-w-screen-md mx-auto text-center main"},Lt=B("h1",{class:"text-2.5xl sm:text-3.2 font-normal mt-5"},"Good Morning & Good Night",-1),_t=B("p",{class:"text-base sm:text-2xl mt-2 font-light"},"Wish you have a nice day and sweet dreams",-1),Et={class:"flex justify-center mt-10 flex-col sm:flex-row md:container mx-auto"},Ft={class:"h-12 sm:h-16 text-xl tip-btn rounded-xl flex justify-between items-center flex-1 sm:mr-3 w-11/12 mx-auto"},Dt={key:0,class:"flex items-center h-12"},Xt={class:"text-base text-gray-400 font-light text-left pl-5 pr-8"},Rt={class:"text-left"},Wt={class:"text-base text-gray-400 font-light text-left pl-5"},qt={class:"text-left"},Ut={class:"h-12 sm:h-16 text-xl tip-btn rounded-xl flex justify-between items-center flex-1 sm:ml-3 mt-3 sm:mt-0 w-11/12 mx-auto"},zt={key:0,class:"flex items-center h-12"},Vt=B("div",{class:"text-base text-gray-400 font-light text-left pl-5 pr-8"},"Earned",-1),Ht={key:0,class:"text-left"},Qt={key:1,class:"text-left"},Jt=B("div",{class:"text-base text-gray-400 font-light text-left pl-5"},"Earned",-1),Kt={key:0,class:"text-left"},Yt={key:1,class:"text-left"},Zt={setup(e){const t=_.Component,n=Ne();n.setMobile();const a={width:"360px",height:"460px",numColumns:6,emojiSize:"2.6rem",categoryEmojiSize:"1.5rem"};let i=o(),s=o(),r=o();const d=v({dialog:!1,emoji:""});function u(){n.init();const e=setInterval((async()=>{await n.init(),n.countDown>10&&clearInterval(e)}),3e3)}async function c(e){d.emoji=e.emoji.annotation,d.dialog=!1,await async function(){window.$contract.functions.punch(d.emoji).then((e=>{n.isMobile?b({type:"success",message:"Punch Success"}):f.success({title:"Punch Success",offset:100,duration:1500})})).catch((e=>{console.log(e),n.isMobile?b({type:"danger",message:e.data.message||"Punch Error"}):f.error({title:e.data.message||"Punch Error",offset:100,duration:1500})}))}()}function p(){n.address?d.dialog=!0:i.value.connect()}function y(e){const t=parseInt(e);return t<10?"000"+t:t<100&&t>9?"00"+t:t<1e3&&t>99?"0"+t:t}function m(){n.address?n.rewardAmount<=0||window.$contract.withdraw():i.value.connect()}return ie((async()=>{switch(localStorage.getItem("walletType")){case"1":await i.value.ethersJs();break;case"2":await i.value.walletConnect();break;default:await i.value.defaultConnect()}await r.value.updateEcharts(),await s.value.latest()})),(e,o)=>(A(),P("div",null,[$(He,{ref:(e,t)=>{t.myHead=e,ue(i)?i.value=e:i=e}},null,512),B("main",jt,[Lt,_t,$(Je,{ref:(e,t)=>{t.echartsRef=e,ue(r)?r.value=e:r=e}},null,512),$(l(t),{show:l(d).dialog,"onUpdate:show":o[0]||(o[0]=e=>l(d).dialog=e),title:"",showConfirmButton:!1,"close-on-click-overlay":!0},null,8,["show"]),se($(l(re),{style:{"z-index":"2010"},class:"rounded-xl overflow-hidden fixed z-50 top-1/3 left-1/2 transform -translate-x-1/2 -translate-y-1/2",width:"380px","is-dark":!1,"picker-style":a,onEmojiClick:c},null,512),[[oe,l(d).dialog]]),B("div",Et,[B("div",Ft,[l(n).isMobile?(A(),P("div",Dt,[B("div",Xt,"# "+X(y(l(n).roundId)),1),B("div",Rt,[$(l(le),{class:"text-white text-xl",time:l(n).countDown,onFinish:u},null,8,["time"])])])):(A(),P(E,{key:1},[B("div",Wt,"# "+X(y(l(n).roundId)),1),B("div",qt,[$(l(le),{class:"text-white text-xl",time:l(n).countDown,onFinish:u},null,8,["time"])])],64)),B("div",{class:"h-full text-base sm:text-xl bg-btn rounded-md w-1/3 sm:w-2/5 leading-0 font-medium flex items-center justify-center cursor-pointer hover:bg-blue-500",onClick:p},"GM/GN ")]),B("div",Ut,[l(n).isMobile?(A(),P("div",zt,[Vt,l(n).rewardAmount>0?(A(),P("div",Ht,X(parseFloat(l(n).rewardAmount).toFixed(2)),1)):de("",!0),0==l(n).rewardAmount?(A(),P("div",Qt,X(parseFloat(l(n).rewardAmount).toFixed(5)),1)):de("",!0)])):(A(),P(E,{key:1},[Jt,l(n).rewardAmount>0?(A(),P("div",Kt,X(parseFloat(l(n).rewardAmount).toFixed(2)),1)):de("",!0),0==l(n).rewardAmount?(A(),P("div",Yt,X(parseFloat(l(n).rewardAmount).toFixed(5)),1)):de("",!0)],64)),B("div",{class:"h-full text-base sm:text-xl bg-white text-black rounded-md w-1/3 sm:w-2/5 font-medium flex items-center justify-center cursor-pointer hover:bg-gray-200",onClick:m},"Withdraw ")])]),$(Ot,{ref:(e,t)=>{t.myList=e,ue(s)?s.value=e:s=e}},null,512),$(ct)]),$(ht)]))}};window.Buffer=ce.Buffer;const en=pe(Zt);en.use(Ge),en.mount("#app");
